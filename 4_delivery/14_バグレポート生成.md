---
name: ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆï¼ˆQAã‚µãƒãƒªãƒ¼ãƒ»ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰
---

# 14 : ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ - QAã‚µãƒãƒªãƒ¼ã¨çµ±è¨ˆãƒ¬ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆ

## å‰æ
- ãƒã‚°ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ãŒç¨¼åƒä¸­
- bug_tracking/bugs.yaml ã«ãƒã‚°ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨

## ç›®çš„
- æ—¥æ¬¡QAã‚µãƒãƒªãƒ¼ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
- ãƒã‚°çµ±è¨ˆãƒ»ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ
- Critical/Highãƒã‚°ã®å¯è¦–åŒ–
- ãƒªãƒªãƒ¼ã‚¹åˆ¤å®šåŸºæº–ã®è‡ªå‹•è©•ä¾¡

## å®Ÿè¡Œæ‰‹é †
```yaml
- trigger: "(ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ|Bug Report|QAã‚µãƒãƒªãƒ¼|ãƒã‚°çµ±è¨ˆ)"
  priority: high
  steps:
    # ========================================
    # Phase 1: bugs.yamlèª­ã¿è¾¼ã¿ãƒ»è§£æ
    # ========================================
    - name: "load_and_analyze_bugs"
      action: "execute_python"
      script: |
        import yaml
        from datetime import datetime
        from pathlib import Path
        from collections import Counter
        
        bugs_yaml = Path("Stock/programs/Tools/projects/cursor_to_notion/documents/11_QAå®Ÿè¡Œ/bug_tracking/bugs.yaml")
        
        with open(bugs_yaml, 'r') as f:
            data = yaml.safe_load(f)
        
        bugs = data.get('bugs', [])
        metadata = data.get('metadata', {})
        
        # çµ±è¨ˆè¨ˆç®—
        total = len(bugs)
        by_status = Counter(b['status'] for b in bugs)
        by_severity = Counter(b['severity'] for b in bugs)
        by_type = Counter(b['type'] for b in bugs)
        by_phase = Counter(b.get('found_in_phase', 'unknown') for b in bugs)
        
        # Critical/Highãƒã‚°ï¼ˆæœªè§£æ±ºï¼‰
        critical_high_open = [
            b for b in bugs 
            if b.get('severity') in ['critical', 'high'] 
            and b.get('status') not in ['verified', 'closed', 'wont_fix']
        ]
        
        # çµæœã‚’å¤‰æ•°ã«ä¿å­˜
        print(f"ç·ãƒã‚°æ•°: {total}")
        print(f"Critical/Highï¼ˆæœªè§£æ±ºï¼‰: {len(critical_high_open)}")
      
      store_as: "bug_analysis"
    
    # ========================================
    # Phase 2: Markdownãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
    # ========================================
    - name: "generate_markdown_report"
      action: "create_markdown_file"
      path: "Stock/programs/Tools/projects/cursor_to_notion/documents/11_QAå®Ÿè¡Œ/bug_tracking/reports/bug_summary_{{today}}.md"
      content: |
        # QAãƒã‚°ã‚µãƒãƒªãƒ¼ãƒ¬ãƒãƒ¼ãƒˆ
        
        **ç”Ÿæˆæ—¥æ™‚**: {{now}}  
        **å¯¾è±¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: cursor_to_notion  
        **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v1.0  
        **QAé–‹å§‹æ—¥**: {{metadata.qa_start_date}}
        
        ---
        
        ## ğŸ“Š çµ±è¨ˆã‚µãƒãƒªãƒ¼
        
        ### å…¨ä½“çµ±è¨ˆ
        - **ç·ãƒã‚°æ•°**: {{bug_analysis.total}}
        - **Open**: {{bug_analysis.by_status.new + bug_analysis.by_status.open + bug_analysis.by_status.in_progress}}
        - **Fixed**: {{bug_analysis.by_status.fixed}}
        - **Verified**: {{bug_analysis.by_status.verified}}
        - **Closed**: {{bug_analysis.by_status.closed}}
        - **Won't Fix**: {{bug_analysis.by_status.wont_fix}}
        
        ### ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å†…è¨³
        | Status | Count |
        |--------|-------|
        {{#each bug_analysis.by_status}}
        | {{@key}} | {{this}} |
        {{/each}}
        
        ### æ·±åˆ»åº¦åˆ¥
        | Severity | Count |
        |----------|-------|
        {{#each bug_analysis.by_severity}}
        | {{@key}} | {{this}} |
        {{/each}}
        
        ### ã‚¿ã‚¤ãƒ—åˆ¥
        | Type | Count |
        |------|-------|
        {{#each bug_analysis.by_type}}
        | {{@key}} | {{this}} |
        {{/each}}
        
        ### ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥ç™ºè¦‹æ•°
        | Phase | Count |
        |-------|-------|
        {{#each bug_analysis.by_phase}}
        | {{@key}} | {{this}} |
        {{/each}}
        
        ---
        
        ## ğŸ”´ Critical/High ãƒã‚°ï¼ˆæœªè§£æ±ºï¼‰
        
        {{#if bug_analysis.critical_high_open}}
        | ID | Title | Severity | Status | Assignee | Found In |
        |-------|--------|----------|--------|----------|----------|
        {{#each bug_analysis.critical_high_open}}
        | {{this.id}} | {{this.title}} | {{this.severity}} | {{this.status}} | {{this.assignee || 'Unassigned'}} | {{this.found_in_test}} |
        {{/each}}
        {{else}}
        âœ… **Critical/Highãƒã‚°ã¯ã‚ã‚Šã¾ã›ã‚“**
        {{/if}}
        
        ---
        
        ## ğŸ“‹ å…¨ãƒã‚°ä¸€è¦§
        
        | ID | Type | Severity | Priority | Status | Title | Found In |
        |---|---|---|---|---|---|---|
        {{#each bugs_data.bugs}}
        | {{this.id}} | {{this.type}} | {{this.severity}} | {{this.priority}} | {{this.status}} | {{this.title}} | {{this.found_in_test}} |
        {{/each}}
        
        ---
        
        ## ğŸ¯ ãƒªãƒªãƒ¼ã‚¹åˆ¤å®š
        
        {{#if bug_analysis.critical_high_open}}
        âŒ **ãƒªãƒªãƒ¼ã‚¹ä¸å¯**: Critical/Highå•é¡ŒãŒæœªè§£æ±º
        
        **ãƒ–ãƒ­ãƒƒã‚«ãƒ¼**:
        {{#each bug_analysis.critical_high_open}}
        - {{this.id}}: {{this.title}}
        {{/each}}
        {{else}}
        âœ… **ãƒªãƒªãƒ¼ã‚¹å¯èƒ½**: Critical/Highå•é¡Œãªã—
        {{/if}}
        
        ---
        
        **ç”Ÿæˆæ—¥æ™‚**: {{now}}
    
    # ========================================
    # Phase 3: HTMLãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”Ÿæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
    # ========================================
    - name: "generate_html_dashboard"
      action: "create_file"
      path: "Stock/programs/Tools/projects/cursor_to_notion/documents/11_QAå®Ÿè¡Œ/bug_tracking/reports/dashboard.html"
      content: |
        <!DOCTYPE html>
        <html lang="ja">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>QA Dashboard - cursor_to_notion</title>
            <style>
                * { margin: 0; padding: 0; box-sizing: border-box; }
                body { 
                    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
                    padding: 20px;
                    background: #f5f5f5;
                }
                h1 { margin-bottom: 30px; color: #333; }
                .metrics { display: flex; gap: 20px; margin-bottom: 30px; flex-wrap: wrap; }
                .metric {
                    background: white;
                    padding: 20px;
                    border-radius: 8px;
                    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                    min-width: 150px;
                }
                .metric h3 { font-size: 14px; color: #666; margin-bottom: 10px; }
                .metric h2 { font-size: 32px; color: #333; }
                .critical { background: #ff4444; color: white; }
                .critical h3 { color: #ffe0e0; }
                .critical h2 { color: white; }
                .high { background: #ff8800; color: white; }
                .high h3 { color: #ffe8cc; }
                .high h2 { color: white; }
                table {
                    width: 100%;
                    background: white;
                    border-radius: 8px;
                    overflow: hidden;
                    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                }
                th, td {
                    padding: 12px;
                    text-align: left;
                    border-bottom: 1px solid #eee;
                }
                th {
                    background: #f8f8f8;
                    font-weight: 600;
                    color: #333;
                }
                .status-new { color: #666; }
                .status-open { color: #0066cc; }
                .status-in-progress { color: #ff8800; }
                .status-fixed { color: #00aa00; }
                .status-verified { color: #006600; }
                .status-closed { color: #999; }
            </style>
        </head>
        <body>
            <h1>ğŸ› QA Dashboard - cursor_to_notion</h1>
            
            <div class="metrics">
                <div class="metric">
                    <h3>Total Bugs</h3>
                    <h2>{{bug_analysis.total}}</h2>
                </div>
                <div class="metric">
                    <h3>Open</h3>
                    <h2>{{bug_analysis.by_status.new + bug_analysis.by_status.open + bug_analysis.by_status.in_progress}}</h2>
                </div>
                <div class="metric critical">
                    <h3>Critical</h3>
                    <h2>{{bug_analysis.by_severity.critical || 0}}</h2>
                </div>
                <div class="metric high">
                    <h3>High</h3>
                    <h2>{{bug_analysis.by_severity.high || 0}}</h2>
                </div>
                <div class="metric">
                    <h3>Fixed</h3>
                    <h2>{{bug_analysis.by_status.fixed}}</h2>
                </div>
                <div class="metric">
                    <h3>Verified</h3>
                    <h2>{{bug_analysis.by_status.verified}}</h2>
                </div>
            </div>
            
            <h2>ğŸ“‹ å…¨ãƒã‚°ä¸€è¦§</h2>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Title</th>
                        <th>Type</th>
                        <th>Severity</th>
                        <th>Status</th>
                        <th>Assignee</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each bugs_data.bugs}}
                    <tr>
                        <td><strong>{{this.id}}</strong></td>
                        <td>{{this.title}}</td>
                        <td>{{this.type}}</td>
                        <td>{{this.severity}}</td>
                        <td class="status-{{this.status}}">{{this.status}}</td>
                        <td>{{this.assignee || 'Unassigned'}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
            
            <p style="margin-top: 30px; color: #666; font-size: 14px;">
                ç”Ÿæˆæ—¥æ™‚: {{now}}
            </p>
        </body>
        </html>
    
    # ========================================
    # Phase 4: å®Œäº†é€šçŸ¥ãƒ»ãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤º
    # ========================================
    - name: "notify_and_display"
      action: "notify"
      message: |
        âœ… ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆå®Œäº†
        
        ğŸ“Š çµ±è¨ˆã‚µãƒãƒªãƒ¼:
        - ç·ãƒã‚°æ•°: {{bug_analysis.total}}
        - Open: {{bug_analysis.open_count}}
        - Critical/Highï¼ˆæœªè§£æ±ºï¼‰: {{bug_analysis.critical_high_open.length}}
        
        ğŸ“ ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«:
        - Markdown: bug_tracking/reports/bug_summary_{{today}}.md
        - HTML: bug_tracking/reports/dashboard.html
        
        {{#if bug_analysis.critical_high_open}}
        âš ï¸  **ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ­ãƒƒã‚«ãƒ¼**:
        {{#each bug_analysis.critical_high_open}}
        - {{this.id}}: {{this.title}}
        {{/each}}
        {{else}}
        âœ… ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ãªã—
        {{/if}}
        
        ğŸ“ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:
        - ãƒ¬ãƒãƒ¼ãƒˆã‚’ç¢ºèª: open bug_tracking/reports/bug_summary_{{today}}.md
        - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç¢ºèª: open bug_tracking/reports/dashboard.html
        - ãƒªãƒªãƒ¼ã‚¹åˆ¤å®š: `/aipm/4_delivery/15_ãƒªãƒªãƒ¼ã‚¹åˆ¤å®š`
```

## æˆæœç‰©
- `bug_tracking/reports/bug_summary_YYYYMMDD.md` - æ—¥æ¬¡ã‚µãƒãƒªãƒ¼
- `bug_tracking/reports/dashboard.html` - HTMLãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›: çµ±è¨ˆã‚µãƒãƒªãƒ¼ãƒ»ãƒªãƒªãƒ¼ã‚¹åˆ¤å®š

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
- ãƒ¬ãƒãƒ¼ãƒˆã‚’ç¢ºèª
- Critical/Highãƒã‚°ãŒã‚ã‚‹å ´åˆ: ãƒˆãƒªã‚¢ãƒ¼ã‚¸ä¼šè­°
- ãƒã‚°ã‚¼ãƒ­ã®å ´åˆ: `/aipm/4_delivery/15_ãƒªãƒªãƒ¼ã‚¹åˆ¤å®š` ã«é€²ã‚€






















