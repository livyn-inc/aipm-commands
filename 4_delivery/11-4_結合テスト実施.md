---
name: çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½ï¼ˆçµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼‰
---

# 11-4 : çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½ - Playwrightçµ±åˆãƒ†ã‚¹ãƒˆãƒ»æœ€çµ‚QA

## å‰æ
- ç›´å‰ã« `07_é–‹ç™ºã‚¿ã‚¹ã‚¯åˆ†è§£` ãŒå®Œäº†æ¸ˆã¿ï¼ˆdev_tasks.yaml ãŒå­˜åœ¨ï¼‰
- å„é–‹ç™ºã‚¿ã‚¹ã‚¯ã®å˜ä½“ãƒ†ã‚¹ãƒˆãŒå®Œäº†æ¸ˆã¿
- **Playwright** ã§ãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•ãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½
- **Notion API** ã§ãƒšãƒ¼ã‚¸æ¤œè¨¼ã‚’å®Ÿè¡Œ
- **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆè‡ªå‹•å–å¾—** ã§è¦–è¦šçš„æ¤œè¨¼

## ç›®çš„
- ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã®çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- Notionãƒšãƒ¼ã‚¸ã®è‡ªå‹•æ¤œè¨¼ï¼ˆREADMEã€getting-startedã€apiï¼‰
- ç”»é¢ã‚­ãƒ£ãƒ—ãƒãƒ£ã«ã‚ˆã‚‹è¦–è¦šçš„QA
- æœ€çµ‚QAãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆã¨ãƒªãƒªãƒ¼ã‚¹åˆ¤å®šæ”¯æ´

## å®Ÿè¡Œæ‰‹é †
```yaml
- trigger: "(çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½|çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ|Integration Test|E2E Test|ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ)"
  priority: high
  steps:
    # ========================================
    # Phase 0: åˆæœŸåŒ–ãƒ»ç’°å¢ƒæº–å‚™
    # ========================================
    - name: "load_test_targets"
      action: "analyze"
      data: [
        "{{read_files(find_files(patterns=['**/dev_tasks.yaml']))}}",
        "{{read_files(find_files(patterns=['**/story_map.yaml']))}}",
        "{{read_files(find_files(patterns=['**/screen_*.yaml']))}}"
      ]
      instructions: |
        dev_tasks.yaml ã¨ story_map.yaml ã‹ã‚‰çµ±åˆãƒ†ã‚¹ãƒˆå¯¾è±¡ã‚’æŠ½å‡ºï¼š
        1. ä¸»è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ï¼ˆMVPå„ªå…ˆï¼‰
        2. ç”»é¢é·ç§»ãƒ•ãƒ­ãƒ¼ï¼ˆã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã‹ã‚‰ï¼‰
        3. é‡è¦APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
        4. Notionãƒšãƒ¼ã‚¸æ¤œè¨¼ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼ˆREADMEã€getting-startedã€apiï¼‰
        
        çµ±åˆãƒ†ã‚¹ãƒˆè¨ˆç”»ã‚’ç”Ÿæˆï¼š
        - ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªï¼ˆæ­£å¸¸ç³»ãƒ»ç•°å¸¸ç³»ï¼‰
        - æ¤œè¨¼ãƒã‚¤ãƒ³ãƒˆ
        - ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆå–å¾—ç®‡æ‰€
        - æ¨å®šå®Ÿè¡Œæ™‚é–“
      store_as: "integration_test_plan"
    
    - name: "create_integration_test_structure"
      action: "execute_shell"
      command: |
        mkdir -p "Flow/{{today}}/{{flow_dir}}/11-4_çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½/playwright_tests" && \
        mkdir -p "Flow/{{today}}/{{flow_dir}}/11-4_çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½/screenshots" && \
        mkdir -p "Flow/{{today}}/{{flow_dir}}/11-4_çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½/test_reports" && \
        mkdir -p "Flow/{{today}}/{{flow_dir}}/11-4_çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½/notion_validation"
      message: "çµåˆãƒ†ã‚¹ãƒˆç”¨ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ã‚’ä½œæˆã—ã¾ã—ãŸ"
    
    - name: "display_integration_test_overview"
      action: "display"
      content: |
        ğŸ“Š çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½è¨ˆç”»æ¦‚è¦
        â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        
        **ãƒ†ã‚¹ãƒˆæˆ¦ç•¥**:
        {{integration_test_plan.summary}}
        
        **å¯¾è±¡ã‚¹ãƒˆãƒ¼ãƒªãƒ¼**: {{integration_test_plan.total_stories}}ä»¶
        **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: {{integration_test_plan.total_scenarios}}ä»¶
        **Notionæ¤œè¨¼ãƒšãƒ¼ã‚¸**: README, getting-started, api
        **æ¨å®šå®Ÿè¡Œæ™‚é–“**: {{integration_test_plan.estimated_time}}
        
        **å®Ÿè¡Œãƒ—ãƒ©ãƒ³**:
        1. Phase 1: Playwrightç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
        2. Phase 2: ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
        3. Phase 3: Notionãƒšãƒ¼ã‚¸æ¤œè¨¼
        4. Phase 4: ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆè‡ªå‹•å–å¾—
        5. Phase 5: æœ€çµ‚QAãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
    
    # ========================================
    # Phase 1: Playwrightç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
    # ========================================
    - name: "confirm_playwright_setup"
      action: "confirm"
      message: |
        Phase 1: Playwrightç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— ã‚’é–‹å§‹ã—ã¾ã™ã‹ï¼Ÿ
        
        å®Ÿæ–½å†…å®¹:
        - Playwright ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª
        - ãƒ–ãƒ©ã‚¦ã‚¶ãƒã‚¤ãƒŠãƒªæº–å‚™ï¼ˆChromium, Firefox, WebKitï¼‰
        - ãƒ†ã‚¹ãƒˆãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£ä½œæˆ
        - ç’°å¢ƒå¤‰æ•°è¨­å®š
    
    - name: "setup_playwright_environment"
      action: "execute_shell"
      command: |
        cd Flow/{{today}}/{{flow_dir}}/11-4_çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½/playwright_tests && \
        npm init -y && \
        npm install --save-dev @playwright/test && \
        npx playwright install
      message: "Playwrightç’°å¢ƒã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã¾ã—ãŸ"
    
    - name: "create_playwright_config"
      action: "create_file"
      path: "Flow/{{today}}/{{flow_dir}}/11-4_çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½/playwright_tests/playwright.config.js"
      content: |
        // @ts-check
        const { defineConfig, devices } = require('@playwright/test');
        
        module.exports = defineConfig({
          testDir: './tests',
          fullyParallel: false,
          forbidOnly: !!process.env.CI,
          retries: process.env.CI ? 2 : 0,
          workers: process.env.CI ? 1 : 1,
          reporter: [
            ['html', { outputFolder: '../test_reports/playwright-report' }],
            ['json', { outputFile: '../test_reports/results.json' }],
            ['junit', { outputFile: '../test_reports/junit.xml' }]
          ],
          use: {
            baseURL: process.env.BASE_URL || 'http://localhost:3000',
            trace: 'on-first-retry',
            screenshot: 'only-on-failure',
            video: 'retain-on-failure',
          },
          projects: [
            {
              name: 'chromium',
              use: { ...devices['Desktop Chrome'] },
            },
          ],
        });
    
    - name: "create_test_fixtures"
      action: "create_file"
      path: "Flow/{{today}}/{{flow_dir}}/11-4_çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½/playwright_tests/tests/fixtures.js"
      content: |
        const { test as base } = require('@playwright/test');
        const fs = require('fs');
        const path = require('path');
        
        // ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£ï¼šã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆä¿å­˜ãƒ˜ãƒ«ãƒ‘ãƒ¼
        const test = base.extend({
          saveScreenshot: async ({ page }, use) => {
            const screenshotDir = path.join(__dirname, '../../screenshots');
            
            const captureScreenshot = async (name) => {
              if (!fs.existsSync(screenshotDir)) {
                fs.mkdirSync(screenshotDir, { recursive: true });
              }
              
              const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
              const filename = `${name}_${timestamp}.png`;
              const filepath = path.join(screenshotDir, filename);
              
              await page.screenshot({ path: filepath, fullPage: true });
              console.log(`ğŸ“¸ Screenshot saved: ${filename}`);
              return filepath;
            };
            
            await use(captureScreenshot);
          },
        });
        
        module.exports = { test };
    
    # ========================================
    # Phase 2: ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
    # ========================================
    - name: "confirm_e2e_test_start"
      action: "confirm"
      message: |
        Phase 2: ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ ã‚’é–‹å§‹ã—ã¾ã™ã‹ï¼Ÿ
        
        å¯¾è±¡: {{integration_test_plan.total_scenarios}}ä»¶ã®ã‚·ãƒŠãƒªã‚ª
        - ä¸»è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼æ¤œè¨¼
        - ç”»é¢é·ç§»ãƒ†ã‚¹ãƒˆ
        - ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ãƒ»ä¿å­˜æ¤œè¨¼
        - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ç¢ºèª
    
    - name: "generate_e2e_test_scenarios"
      action: "analyze"
      data: ["{{integration_test_plan}}", "{{read_files(find_files(patterns=['**/story_map.yaml']))}}"]
      instructions: |
        ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒãƒƒãƒ—ã‹ã‚‰ä¸»è¦ãªE2Eãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã‚’ç”Ÿæˆï¼š
        
        1. **ã‚·ãƒŠãƒªã‚ª1: æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼**
           - ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸è¡¨ç¤º
           - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›
           - ç¢ºèªç”»é¢é·ç§»
           - ä½œæˆå®Œäº†ç¢ºèª
        
        2. **ã‚·ãƒŠãƒªã‚ª2: ãƒ‡ãƒ¼ã‚¿CRUDãƒ•ãƒ­ãƒ¼**
           - ãƒ‡ãƒ¼ã‚¿ä¸€è¦§è¡¨ç¤º
           - æ–°è¦ä½œæˆ
           - è©³ç´°è¡¨ç¤º
           - ç·¨é›†
           - å‰Šé™¤
        
        3. **ã‚·ãƒŠãƒªã‚ª3: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**
           - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
           - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼
           - æ¨©é™ã‚¨ãƒ©ãƒ¼
        
        å„ã‚·ãƒŠãƒªã‚ªã«å¯¾ã—ã¦Playwrightãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã€‚
      store_as: "e2e_scenarios"
    
    - name: "create_e2e_test_scenario1"
      action: "create_file"
      path: "Flow/{{today}}/{{flow_dir}}/11-4_çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½/playwright_tests/tests/scenario1-new-project.spec.js"
      content: |
        const { test } = require('../fixtures');
        const { expect } = require('@playwright/test');
        
        test.describe('ã‚·ãƒŠãƒªã‚ª1: æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆãƒ•ãƒ­ãƒ¼', () => {
          test.beforeEach(async ({ page }) => {
            await page.goto('/');
          });
        
          test('æ­£å¸¸ç³»: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆãŒæˆåŠŸã™ã‚‹', async ({ page, saveScreenshot }) => {
            // Step 1: ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸è¡¨ç¤ºç¢ºèª
            await expect(page.locator('h1')).toContainText('Welcome');
            await saveScreenshot('01_landing_page');
            
            // Step 2: æ–°è¦ä½œæˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
            await page.click('button:has-text("New Project")');
            await expect(page).toHaveURL(/.*\/projects\/new/);
            await saveScreenshot('02_new_project_form');
            
            // Step 3: ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›
            await page.fill('input[name="project_name"]', 'Test Project');
            await page.fill('textarea[name="description"]', 'This is a test project');
            await page.selectOption('select[name="category"]', 'development');
            await saveScreenshot('03_form_filled');
            
            // Step 4: é€ä¿¡
            await page.click('button[type="submit"]');
            
            // Step 5: å®Œäº†ç”»é¢ç¢ºèª
            await expect(page).toHaveURL(/.*\/projects\/\d+/);
            await expect(page.locator('.success-message')).toContainText('Project created successfully');
            await saveScreenshot('04_project_created');
            
            // Step 6: ãƒ‡ãƒ¼ã‚¿ç¢ºèª
            await expect(page.locator('h1')).toContainText('Test Project');
            await expect(page.locator('.description')).toContainText('This is a test project');
          });
        
          test('ç•°å¸¸ç³»: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹', async ({ page, saveScreenshot }) => {
            await page.click('button:has-text("New Project")');
            
            // å¿…é ˆé …ç›®ã‚’ç©ºã®ã¾ã¾é€ä¿¡
            await page.click('button[type="submit"]');
            
            // ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç¢ºèª
            await expect(page.locator('.error-message')).toContainText('Project name is required');
            await saveScreenshot('05_validation_error');
          });
        
          test('ç•°å¸¸ç³»: é‡è¤‡åã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹', async ({ page, saveScreenshot }) => {
            await page.click('button:has-text("New Project")');
            
            // æ—¢å­˜ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›
            await page.fill('input[name="project_name"]', 'Existing Project');
            await page.fill('textarea[name="description"]', 'Test');
            await page.click('button[type="submit"]');
            
            // é‡è¤‡ã‚¨ãƒ©ãƒ¼ç¢ºèª
            await expect(page.locator('.error-message')).toContainText('already exists');
            await saveScreenshot('06_duplicate_error');
          });
        });
    
    - name: "create_e2e_test_scenario2"
      action: "create_file"
      path: "Flow/{{today}}/{{flow_dir}}/11-4_çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½/playwright_tests/tests/scenario2-crud-flow.spec.js"
      content: |
        const { test } = require('../fixtures');
        const { expect } = require('@playwright/test');
        
        test.describe('ã‚·ãƒŠãƒªã‚ª2: ãƒ‡ãƒ¼ã‚¿CRUDãƒ•ãƒ­ãƒ¼', () => {
          let projectId;
        
          test('Create: ãƒ‡ãƒ¼ã‚¿ä½œæˆ', async ({ page, saveScreenshot }) => {
            await page.goto('/projects/new');
            await page.fill('input[name="project_name"]', 'CRUD Test Project');
            await page.fill('textarea[name="description"]', 'For CRUD testing');
            await page.click('button[type="submit"]');
            
            await expect(page).toHaveURL(/.*\/projects\/\d+/);
            const url = page.url();
            projectId = url.match(/\/projects\/(\d+)/)[1];
            
            await saveScreenshot('07_crud_create');
          });
        
          test('Read: ãƒ‡ãƒ¼ã‚¿ä¸€è¦§è¡¨ç¤º', async ({ page, saveScreenshot }) => {
            await page.goto('/projects');
            
            await expect(page.locator('.project-list')).toBeVisible();
            await expect(page.locator('.project-item')).toHaveCount(await page.locator('.project-item').count());
            await saveScreenshot('08_crud_read_list');
          });
        
          test('Update: ãƒ‡ãƒ¼ã‚¿ç·¨é›†', async ({ page, saveScreenshot }) => {
            await page.goto(`/projects/${projectId}/edit`);
            
            await page.fill('input[name="project_name"]', 'CRUD Test Project (Updated)');
            await page.click('button[type="submit"]');
            
            await expect(page.locator('h1')).toContainText('CRUD Test Project (Updated)');
            await saveScreenshot('09_crud_update');
          });
        
          test('Delete: ãƒ‡ãƒ¼ã‚¿å‰Šé™¤', async ({ page, saveScreenshot }) => {
            await page.goto(`/projects/${projectId}`);
            
            await page.click('button:has-text("Delete")');
            await page.click('button:has-text("Confirm")');
            
            await expect(page).toHaveURL(/.*\/projects/);
            await expect(page.locator('.success-message')).toContainText('deleted');
            await saveScreenshot('10_crud_delete');
          });
        });
    
    - name: "run_e2e_tests"
      action: "execute_shell"
      command: |
        cd Flow/{{today}}/{{flow_dir}}/11-4_çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½/playwright_tests && \
        npx playwright test --reporter=html,json,junit
      message: "ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã—ãŸ"
    
    # ========================================
    # Phase 3: Notionãƒšãƒ¼ã‚¸æ¤œè¨¼
    # ========================================
    - name: "confirm_notion_validation_start"
      action: "confirm"
      message: |
        Phase 3: Notionãƒšãƒ¼ã‚¸æ¤œè¨¼ ã‚’é–‹å§‹ã—ã¾ã™ã‹ï¼Ÿ
        
        æ¤œè¨¼å¯¾è±¡:
        - README ãƒšãƒ¼ã‚¸ï¼ˆæ§‹é€ ã€è¦‹å‡ºã—ã€ãƒªãƒ³ã‚¯ï¼‰
        - getting-started ãƒšãƒ¼ã‚¸ï¼ˆæ‰‹é †ã€ã‚³ãƒ¼ãƒ‰ä¾‹ï¼‰
        - api ãƒšãƒ¼ã‚¸ï¼ˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰
        
        Notion API ã‚’ä½¿ç”¨ã—ã¦ãƒšãƒ¼ã‚¸å†…å®¹ã‚’è‡ªå‹•æ¤œè¨¼ã—ã¾ã™ã€‚
    
    - name: "create_notion_validation_script"
      action: "create_file"
      path: "Flow/{{today}}/{{flow_dir}}/11-4_çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½/notion_validation/validate_notion_pages.py"
      content: |
        #!/usr/bin/env python3
        """
        Notionãƒšãƒ¼ã‚¸æ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
        README, getting-started, api ãƒšãƒ¼ã‚¸ã®æ§‹é€ ã¨å†…å®¹ã‚’è‡ªå‹•æ¤œè¨¼
        """
        import os
        import sys
        import json
        from datetime import datetime
        from notion_client import Client
        
        # Notion APIåˆæœŸåŒ–
        notion_token = os.environ.get('NOTION_TOKEN')
        if not notion_token:
            print("âŒ NOTION_TOKEN ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“")
            sys.exit(1)
        
        notion = Client(auth=notion_token)
        
        # æ¤œè¨¼å¯¾è±¡ãƒšãƒ¼ã‚¸IDï¼ˆç’°å¢ƒå¤‰æ•°ã‹ã‚‰å–å¾—ï¼‰
        README_PAGE_ID = os.environ.get('README_PAGE_ID')
        GETTING_STARTED_PAGE_ID = os.environ.get('GETTING_STARTED_PAGE_ID')
        API_PAGE_ID = os.environ.get('API_PAGE_ID')
        
        def validate_page_structure(page_id, expected_blocks):
            """ãƒšãƒ¼ã‚¸æ§‹é€ ã‚’æ¤œè¨¼"""
            try:
                blocks = notion.blocks.children.list(block_id=page_id)
                
                validation_results = {
                    'page_id': page_id,
                    'total_blocks': len(blocks['results']),
                    'validations': [],
                    'errors': []
                }
                
                # æœŸå¾…ã•ã‚Œã‚‹ãƒ–ãƒ­ãƒƒã‚¯ã‚¿ã‚¤ãƒ—ã®æ¤œè¨¼
                for expected in expected_blocks:
                    block_type = expected['type']
                    content_check = expected.get('content')
                    
                    matching_blocks = [
                        b for b in blocks['results'] 
                        if b['type'] == block_type
                    ]
                    
                    if len(matching_blocks) == 0:
                        validation_results['errors'].append(
                            f"Missing block type: {block_type}"
                        )
                    else:
                        # ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ¤œè¨¼
                        if content_check:
                            block = matching_blocks[0]
                            text_content = extract_text_content(block)
                            if content_check.lower() in text_content.lower():
                                validation_results['validations'].append(
                                    f"âœ“ Found '{content_check}' in {block_type}"
                                )
                            else:
                                validation_results['errors'].append(
                                    f"âœ— Expected '{content_check}' not found in {block_type}"
                                )
                        else:
                            validation_results['validations'].append(
                                f"âœ“ Block type {block_type} exists"
                            )
                
                return validation_results
            
            except Exception as e:
                return {
                    'page_id': page_id,
                    'error': str(e)
                }
        
        def extract_text_content(block):
            """ãƒ–ãƒ­ãƒƒã‚¯ã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æŠ½å‡º"""
            block_type = block['type']
            
            if block_type in ['paragraph', 'heading_1', 'heading_2', 'heading_3']:
                rich_text = block[block_type].get('rich_text', [])
                return ''.join([t['plain_text'] for t in rich_text])
            
            elif block_type == 'bulleted_list_item':
                rich_text = block['bulleted_list_item'].get('rich_text', [])
                return ''.join([t['plain_text'] for t in rich_text])
            
            elif block_type == 'code':
                rich_text = block['code'].get('rich_text', [])
                return ''.join([t['plain_text'] for t in rich_text])
            
            return ''
        
        def validate_readme():
            """READMEãƒšãƒ¼ã‚¸æ¤œè¨¼"""
            print("\nğŸ“„ Validating README page...")
            
            expected_blocks = [
                {'type': 'heading_1', 'content': 'README'},
                {'type': 'heading_2', 'content': 'Installation'},
                {'type': 'heading_2', 'content': 'Usage'},
                {'type': 'code'},
                {'type': 'bulleted_list_item'},
            ]
            
            results = validate_page_structure(README_PAGE_ID, expected_blocks)
            return results
        
        def validate_getting_started():
            """getting-startedãƒšãƒ¼ã‚¸æ¤œè¨¼"""
            print("\nğŸš€ Validating getting-started page...")
            
            expected_blocks = [
                {'type': 'heading_1', 'content': 'Getting Started'},
                {'type': 'heading_2', 'content': 'Step'},
                {'type': 'code'},
                {'type': 'paragraph'},
            ]
            
            results = validate_page_structure(GETTING_STARTED_PAGE_ID, expected_blocks)
            return results
        
        def validate_api():
            """apiãƒšãƒ¼ã‚¸æ¤œè¨¼"""
            print("\nğŸ”Œ Validating api page...")
            
            expected_blocks = [
                {'type': 'heading_1', 'content': 'API'},
                {'type': 'heading_2', 'content': 'Endpoint'},
                {'type': 'code'},
                {'type': 'heading_3', 'content': 'Parameter'},
            ]
            
            results = validate_page_structure(API_PAGE_ID, expected_blocks)
            return results
        
        def generate_report(results):
            """æ¤œè¨¼ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ"""
            report = {
                'timestamp': datetime.now().isoformat(),
                'pages': results,
                'summary': {
                    'total_pages': len(results),
                    'passed': sum(1 for r in results.values() if len(r.get('errors', [])) == 0),
                    'failed': sum(1 for r in results.values() if len(r.get('errors', [])) > 0),
                }
            }
            
            # JSONä¿å­˜
            report_path = '../test_reports/notion_validation_report.json'
            with open(report_path, 'w', encoding='utf-8') as f:
                json.dump(report, f, indent=2, ensure_ascii=False)
            
            print(f"\nâœ… Report saved: {report_path}")
            
            # ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›
            print("\n" + "="*60)
            print("ğŸ“Š Notion Page Validation Summary")
            print("="*60)
            print(f"Total Pages: {report['summary']['total_pages']}")
            print(f"Passed: {report['summary']['passed']}")
            print(f"Failed: {report['summary']['failed']}")
            print("="*60)
            
            for page_name, result in results.items():
                print(f"\n{page_name}:")
                for validation in result.get('validations', []):
                    print(f"  {validation}")
                for error in result.get('errors', []):
                    print(f"  âŒ {error}")
            
            return report['summary']['failed'] == 0
        
        if __name__ == '__main__':
            results = {}
            
            if README_PAGE_ID:
                results['README'] = validate_readme()
            
            if GETTING_STARTED_PAGE_ID:
                results['getting-started'] = validate_getting_started()
            
            if API_PAGE_ID:
                results['api'] = validate_api()
            
            success = generate_report(results)
            sys.exit(0 if success else 1)
    
    - name: "run_notion_validation"
      action: "execute_shell"
      command: |
        cd Flow/{{today}}/{{flow_dir}}/11-4_çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½/notion_validation && \
        chmod +x validate_notion_pages.py && \
        python3 validate_notion_pages.py
      message: "Notionãƒšãƒ¼ã‚¸æ¤œè¨¼ã‚’å®Ÿè¡Œã—ã¾ã—ãŸ"
    
    # ========================================
    # Phase 4: ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆè‡ªå‹•å–å¾—
    # ========================================
    - name: "confirm_screenshot_capture"
      action: "confirm"
      message: |
        Phase 4: ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆè‡ªå‹•å–å¾— ã‚’é–‹å§‹ã—ã¾ã™ã‹ï¼Ÿ
        
        å–å¾—å¯¾è±¡:
        - å…¨ç”»é¢ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ
        - ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ
        - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–è¡¨ç¤ºï¼ˆPCã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã€ã‚¹ãƒãƒ›ï¼‰
    
    - name: "create_screenshot_capture_script"
      action: "create_file"
      path: "Flow/{{today}}/{{flow_dir}}/11-4_çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½/playwright_tests/tests/screenshot-capture.spec.js"
      content: |
        const { test } = require('../fixtures');
        const { expect } = require('@playwright/test');
        
        test.describe('ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆè‡ªå‹•å–å¾—', () => {
          const viewports = [
            { name: 'desktop', width: 1920, height: 1080 },
            { name: 'tablet', width: 768, height: 1024 },
            { name: 'mobile', width: 375, height: 667 },
          ];
        
          for (const viewport of viewports) {
            test(`å…¨ç”»é¢ã‚­ãƒ£ãƒ—ãƒãƒ£ - ${viewport.name}`, async ({ page, saveScreenshot }) => {
              await page.setViewportSize({ width: viewport.width, height: viewport.height });
              
              // ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸
              await page.goto('/');
              await saveScreenshot(`landing_${viewport.name}`);
              
              // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§
              await page.goto('/projects');
              await saveScreenshot(`projects_list_${viewport.name}`);
              
              // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´°ï¼ˆ1ä»¶ç›®ï¼‰
              const firstProject = page.locator('.project-item').first();
              if (await firstProject.isVisible()) {
                await firstProject.click();
                await saveScreenshot(`project_detail_${viewport.name}`);
              }
              
              // æ–°è¦ä½œæˆãƒ•ã‚©ãƒ¼ãƒ 
              await page.goto('/projects/new');
              await saveScreenshot(`new_project_form_${viewport.name}`);
            });
          }
        
          test('ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ã‚­ãƒ£ãƒ—ãƒãƒ£', async ({ page, saveScreenshot }) => {
            await page.goto('/');
            
            // ãƒ˜ãƒƒãƒ€ãƒ¼
            const header = page.locator('header');
            await header.screenshot({ path: '../screenshots/component_header.png' });
            
            // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
            const nav = page.locator('nav');
            if (await nav.isVisible()) {
              await nav.screenshot({ path: '../screenshots/component_nav.png' });
            }
            
            // ãƒ•ãƒƒã‚¿ãƒ¼
            const footer = page.locator('footer');
            if (await footer.isVisible()) {
              await footer.screenshot({ path: '../screenshots/component_footer.png' });
            }
            
            console.log('ğŸ“¸ Component screenshots captured');
          });
        });
    
    - name: "run_screenshot_capture"
      action: "execute_shell"
      command: |
        cd Flow/{{today}}/{{flow_dir}}/11-4_çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½/playwright_tests && \
        npx playwright test screenshot-capture.spec.js
      message: "ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’è‡ªå‹•å–å¾—ã—ã¾ã—ãŸ"
    
    # ========================================
    # Phase 5: æœ€çµ‚QAãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
    # ========================================
    - name: "generate_final_qa_report"
      action: "create_markdown_file"
      path: "Flow/{{today}}/{{flow_dir}}/11-4_çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½/test_reports/final_qa_report.md"
      content: |
        # æœ€çµ‚QAãƒ¬ãƒãƒ¼ãƒˆ - çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½çµæœ
        
        **å®Ÿè¡Œæ—¥æ™‚**: {{now}}
        **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: {{project_name}}
        **ãƒ†ã‚¹ãƒˆå¯¾è±¡**: {{integration_test_plan.total_stories}}ã‚¹ãƒˆãƒ¼ãƒªãƒ¼
        
        ---
        
        ## ğŸ“Š å®Ÿè¡Œã‚µãƒãƒªãƒ¼
        
        ### ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆçµæœ
        **å®Ÿè¡Œã‚·ãƒŠãƒªã‚ªæ•°**: {{e2e_results.total_scenarios}}ä»¶
        **æˆåŠŸ**: {{e2e_results.passed}}ä»¶
        **å¤±æ•—**: {{e2e_results.failed}}ä»¶
        **ã‚¹ã‚­ãƒƒãƒ—**: {{e2e_results.skipped}}ä»¶
        **æˆåŠŸç‡**: {{e2e_results.pass_rate}}%
        
        ### Notionãƒšãƒ¼ã‚¸æ¤œè¨¼çµæœ
        | ãƒšãƒ¼ã‚¸ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | æ¤œè¨¼é …ç›® | ã‚¨ãƒ©ãƒ¼ |
        |--------|-----------|---------|-------|
        | README | {{notion_results.readme.status}} | {{notion_results.readme.validations}} | {{notion_results.readme.errors}} |
        | getting-started | {{notion_results.getting_started.status}} | {{notion_results.getting_started.validations}} | {{notion_results.getting_started.errors}} |
        | api | {{notion_results.api.status}} | {{notion_results.api.validations}} | {{notion_results.api.errors}} |
        
        ### ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆå–å¾—
        **å–å¾—æšæ•°**: {{screenshot_results.total_screenshots}}æš
        **ãƒ‡ãƒã‚¤ã‚¹åˆ¥**: PC {{screenshot_results.desktop}}æšã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ {{screenshot_results.tablet}}æšã€ã‚¹ãƒãƒ› {{screenshot_results.mobile}}æš
        **ä¿å­˜å…ˆ**: `screenshots/`
        
        ---
        
        ## ğŸ¯ ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªè©³ç´°
        
        {{#each e2e_scenarios.scenarios}}
        ### ã‚·ãƒŠãƒªã‚ª {{@index}}: {{name}}
        **å„ªå…ˆåº¦**: {{priority}}
        **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: {{status}}
        **å®Ÿè¡Œæ™‚é–“**: {{execution_time}}ç§’
        
        #### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
        {{#each test_cases}}
        - {{case_name}}: {{result}}
        {{/each}}
        
        #### ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ
        {{#each screenshots}}
        - ![{{name}}](../screenshots/{{filename}})
        {{/each}}
        {{/each}}
        
        ---
        
        ## âš ï¸ å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆ
        
        {{#if e2e_results.failures}}
        {{#each e2e_results.failures}}
        ### {{test_name}}
        **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**: {{error_message}}
        **ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹**:
        ```
        {{stack_trace}}
        ```
        **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ**: ![å¤±æ•—æ™‚](../screenshots/{{failure_screenshot}})
        {{/each}}
        {{else}}
        âœ… **å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆã¯ã‚ã‚Šã¾ã›ã‚“**
        {{/if}}
        
        ---
        
        ## ğŸ” Notionãƒšãƒ¼ã‚¸æ¤œè¨¼è©³ç´°
        
        ### README ãƒšãƒ¼ã‚¸
        {{#each notion_results.readme.validations}}
        - {{.}}
        {{/each}}
        {{#if notion_results.readme.errors}}
        **ã‚¨ãƒ©ãƒ¼**:
        {{#each notion_results.readme.errors}}
        - âŒ {{.}}
        {{/each}}
        {{/if}}
        
        ### getting-started ãƒšãƒ¼ã‚¸
        {{#each notion_results.getting_started.validations}}
        - {{.}}
        {{/each}}
        {{#if notion_results.getting_started.errors}}
        **ã‚¨ãƒ©ãƒ¼**:
        {{#each notion_results.getting_started.errors}}
        - âŒ {{.}}
        {{/each}}
        {{/if}}
        
        ### api ãƒšãƒ¼ã‚¸
        {{#each notion_results.api.validations}}
        - {{.}}
        {{/each}}
        {{#if notion_results.api.errors}}
        **ã‚¨ãƒ©ãƒ¼**:
        {{#each notion_results.api.errors}}
        - âŒ {{.}}
        {{/each}}
        {{/if}}
        
        ---
        
        ## ğŸ“¸ ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆä¸€è¦§
        
        ### ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—
        {{#each screenshot_results.desktop_screenshots}}
        - ![{{name}}](../screenshots/{{filename}})
        {{/each}}
        
        ### ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ
        {{#each screenshot_results.tablet_screenshots}}
        - ![{{name}}](../screenshots/{{filename}})
        {{/each}}
        
        ### ãƒ¢ãƒã‚¤ãƒ«
        {{#each screenshot_results.mobile_screenshots}}
        - ![{{name}}](../screenshots/{{filename}})
        {{/each}}
        
        ---
        
        ## ğŸ¯ ãƒªãƒªãƒ¼ã‚¹åˆ¤å®š
        
        {{#if all_tests_passed}}
        âœ… **ãƒªãƒªãƒ¼ã‚¹å¯**: å…¨ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ã¾ã—ãŸ
        
        **åˆæ ¼åŸºæº–**:
        - [x] E2Eãƒ†ã‚¹ãƒˆæˆåŠŸç‡ 100%
        - [x] Notionãƒšãƒ¼ã‚¸æ¤œè¨¼ å…¨ãƒšãƒ¼ã‚¸åˆæ ¼
        - [x] ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆå–å¾— å®Œäº†
        - [x] Critical/Highãƒã‚° 0ä»¶
        {{else}}
        âš ï¸ **ãƒªãƒªãƒ¼ã‚¹ä¿ç•™**: ä»¥ä¸‹ã®å•é¡ŒãŒæœªè§£æ±ºã§ã™
        
        **ãƒ–ãƒ­ãƒƒã‚«ãƒ¼**:
        {{#each blockers}}
        - {{.}}
        {{/each}}
        
        **æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**:
        {{#each recommended_actions}}
        - {{.}}
        {{/each}}
        {{/if}}
        
        ---
        
        ## ğŸ“ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
        
        {{#if all_tests_passed}}
        1. âœ… ãƒ¬ãƒãƒ¼ãƒˆç¢ºèªå®Œäº†
        2. âœ… ãƒªãƒªãƒ¼ã‚¹åˆ¤å®šä¼šè­°
        3. â†’ `/aipm/4_delivery/15_ãƒªãƒªãƒ¼ã‚¹åˆ¤å®š` ã§ãƒªãƒªãƒ¼ã‚¹æ‰¿èª
        {{else}}
        1. âŒ å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆã®åŸå› èª¿æŸ»
        2. âŒ ãƒã‚°ä¿®æ­£ãƒ»å†ãƒ†ã‚¹ãƒˆ
        3. â†’ `/aipm/4_delivery/12_ãƒã‚°ç™»éŒ²` ã§ãƒã‚°ç™»éŒ²
        4. â†’ ä¿®æ­£å®Œäº†å¾Œã€çµåˆãƒ†ã‚¹ãƒˆå†å®Ÿè¡Œ
        {{/if}}
        
        ---
        
        **ç”Ÿæˆæ—¥æ™‚**: {{now}}
        **ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆè€…**: AIPM System
    
    - name: "notify_integration_test_completion"
      action: "display"
      content: |
        âœ… çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½ãƒ—ãƒ­ã‚»ã‚¹ãŒå®Œäº†ã—ã¾ã—ãŸ
        
        **ç”Ÿæˆã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**:
        - playwright_tests/playwright.config.jsï¼ˆPlaywrightè¨­å®šï¼‰
        - playwright_tests/tests/*.spec.jsï¼ˆE2Eãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªï¼‰
        - notion_validation/validate_notion_pages.pyï¼ˆNotionæ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼‰
        - test_reports/final_qa_report.mdï¼ˆæœ€çµ‚QAãƒ¬ãƒãƒ¼ãƒˆï¼‰
        - screenshots/*.pngï¼ˆã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆï¼‰
        
        **å®Ÿè¡Œçµæœã‚µãƒãƒªãƒ¼**:
        - E2Eãƒ†ã‚¹ãƒˆ: {{e2e_results.passed}}/{{e2e_results.total_scenarios}} æˆåŠŸ
        - Notionãƒšãƒ¼ã‚¸æ¤œè¨¼: {{notion_results.passed}}/{{notion_results.total_pages}} åˆæ ¼
        - ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ: {{screenshot_results.total_screenshots}}æš å–å¾—å®Œäº†
        
        {{#if all_tests_passed}}
        âœ… **å…¨ãƒ†ã‚¹ãƒˆåˆæ ¼** - ãƒªãƒªãƒ¼ã‚¹åˆ¤å®šã«é€²ã‚ã¾ã™
        {{else}}
        âš ï¸ **ä¸€éƒ¨ãƒ†ã‚¹ãƒˆå¤±æ•—** - ãƒã‚°ç™»éŒ²ãƒ»ä¿®æ­£ãŒå¿…è¦ã§ã™
        {{/if}}
        
        **æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**:
        1. ãƒ¬ãƒãƒ¼ãƒˆç¢ºèª: open test_reports/final_qa_report.md
        2. ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆç¢ºèª: open screenshots/
        3. Playwright HTMLãƒ¬ãƒãƒ¼ãƒˆ: npx playwright show-report
        {{#if all_tests_passed}}
        4. ãƒªãƒªãƒ¼ã‚¹åˆ¤å®š: `/aipm/4_delivery/15_ãƒªãƒªãƒ¼ã‚¹åˆ¤å®š`
        {{else}}
        4. ãƒã‚°ç™»éŒ²: `/aipm/4_delivery/12_ãƒã‚°ç™»éŒ²`
        {{/if}}
```

## æˆæœç‰©
- `playwright_tests/` - Playwrightãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ
  - `playwright.config.js` - Playwrightè¨­å®š
  - `tests/*.spec.js` - E2Eãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª
  - `tests/fixtures.js` - ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£
- `notion_validation/` - Notionæ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
  - `validate_notion_pages.py` - ãƒšãƒ¼ã‚¸æ§‹é€ æ¤œè¨¼
- `screenshots/` - ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆï¼ˆPC/ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ/ã‚¹ãƒãƒ›ï¼‰
- `test_reports/` - ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆ
  - `final_qa_report.md` - æœ€çµ‚QAãƒ¬ãƒãƒ¼ãƒˆ
  - `playwright-report/` - Playwright HTMLãƒ¬ãƒãƒ¼ãƒˆ
  - `results.json` - JSONå½¢å¼ã®çµæœ
  - `junit.xml` - JUnit XMLãƒ¬ãƒãƒ¼ãƒˆ
  - `notion_validation_report.json` - Notionæ¤œè¨¼çµæœ

## æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰
â†’ å…¨ãƒ†ã‚¹ãƒˆåˆæ ¼æ™‚: `/aipm/4_delivery/15_ãƒªãƒªãƒ¼ã‚¹åˆ¤å®š` ã§ãƒªãƒªãƒ¼ã‚¹æ‰¿èª
â†’ ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚: `/aipm/4_delivery/12_ãƒã‚°ç™»éŒ²` ã§ãƒã‚°ç™»éŒ²ãƒ»ä¿®æ­£

## å¤‰æ›´ç‚¹ï¼ˆv1.0 - çµåˆãƒ†ã‚¹ãƒˆå®Ÿæ–½ï¼‰
- **Playwrightçµ±åˆ**: ãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯æ¡ç”¨
- **Notion APIæ¤œè¨¼**: README/getting-started/apiãƒšãƒ¼ã‚¸ã®è‡ªå‹•æ¤œè¨¼
- **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆè‡ªå‹•å–å¾—**: å…¨ç”»é¢ãƒ»ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
- **æœ€çµ‚QAãƒ¬ãƒãƒ¼ãƒˆ**: åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆçµæœãƒ¬ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆ
- **ãƒªãƒªãƒ¼ã‚¹åˆ¤å®šæ”¯æ´**: ãƒ†ã‚¹ãƒˆçµæœã«åŸºã¥ãè‡ªå‹•åˆ¤å®š